<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1"/>
	<title>Exifr</title>
	<link rel="stylesheet" type="text/css" href="./demo.css">
</head>
<body>

	<header>
		<h1>Exifr</h1>
		<div class="description">
			<p>The fastest and most versatile JavaScript EXIF reading library.</p>
			<p>Check out the <a href="https://github.com/MikeKovarik/exifr">GitHub repo</a> for docs and more information.</p>
		</div>
		<div class="badges">
			<a href="https://travis-ci.org/MikeKovarik/exifr"><img src="https://travis-ci.org/MikeKovarik/exifr.svg?branch=master"></a>
			<a href="https://coveralls.io/github/MikeKovarik/exifr"><img src="https://coveralls.io/repos/github/MikeKovarik/exifr/badge.svg"></a>
			<!--
			<a class="github-button" href="https://github.com/sponsors/MikeKovarik" data-icon="octicon-heart" data-size="large" aria-label="Sponsor @MikeKovarik on GitHub">Sponsor</a>
			-->
			<a class="github-button" href="https://github.com/MikeKovarik/exifr/issues" data-icon="octicon-issue-opened" data-size="large" aria-label="Issue MikeKovarik/exifr on GitHub">Issue</a>
			<a class="github-button" href="https://github.com/MikeKovarik/exifr" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star MikeKovarik/exifr on GitHub">Star</a>
			<a class="github-button" href="https://github.com/MikeKovarik/exifr/fork" data-icon="octicon-repo-forked" data-size="large" aria-label="Fork MikeKovarik/exifr on GitHub">Fork</a>
		</div>
	</header>


	<div id="grid" class="nowrap">

		<h2 id="input-head">Input</h2>

		<h2 id="output-head">
			Output
			<span>parsed in ${parseTime} ms</span>
		</h2>

		<div id="input">

			<h3>File</h3>
			<div id="dropzone">
				<input id="picker" type="file" multiple change.trigger="onPick($event)">
				Click to pick
				<br>or<br>
				drop your file here
			</div>

			<h3>Options</h3>
			<form>
				<div>{</div>
				<div muted>&nbsp;&nbsp;// APP segments</div>
				<div>&nbsp;&nbsp;tiff:      <input type="checkbox" checked.bind="options.tiff" change.trigger="updateOptions('tiff')">,</div>
				<div>&nbsp;&nbsp;xmp:       <input type="checkbox" checked.bind="options.xmp" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;icc:       <input type="checkbox" checked.bind="options.icc" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;iptc:      <input type="checkbox" checked.bind="options.iptc" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;jfif:      <input type="checkbox" checked.bind="options.jfif" change.trigger="updateOptions()">,</div>
				<div muted>&nbsp;&nbsp;// TIFF blocks</div>
				<!-- TODO: disable or uncheck all of these blocks on unselecting tiff -->
				<div>&nbsp;&nbsp;ifd0:      <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.ifd0" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;exif:      <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.exif" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;gps:       <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.gps" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;interop:   <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.interop" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;thumbnail: <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.thumbnail" change.trigger="updateOptions()">,</div>
				<div muted>&nbsp;&nbsp;// other content of TIFF</div>
				<div>&nbsp;&nbsp;makerNote:   <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.makerNote" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;userComment: <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.userComment" change.trigger="updateOptions()">,</div>
				<div muted>&nbsp;&nbsp;// output style</div>
				<div title="combine all segments and blocks into single output object">&nbsp;&nbsp;mergeOutput: <input type="checkbox" checked.bind="options.mergeOutput" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;sanitize:        <input type="checkbox" checked.bind="options.sanitize" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;reviveValues:    <input type="checkbox" checked.bind="options.reviveValues" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;translateTags:   <input type="checkbox" checked.bind="options.translateTags" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;translateValues: <input type="checkbox" checked.bind="options.translateValues" change.trigger="updateOptions()">,</div>
				<!--
				<div muted>&nbsp;&nbsp;// skip or only pick tags</div>
				<div>&nbsp;&nbsp;pickTags: [<input type="text" name="pickTags">],</div>
				<div>&nbsp;&nbsp;skipTags: [<input type="text" name="skipTags">],</div>
				<div>}</div>
				-->
			</form>

		</div>

		<div id="thumb">
			<h3>Embedded thumbnail</h3>
			<img if.bind="thumbUrl" src.bind="thumbUrl">
			<p if.bind="thumbUrl === undefined">
				Doesn't contain thumbnail
			</p>
		</div>
<!--
		<div id="app1-thumb" class.bind="options.thumb ? '' : 'disabled'">
			<h3>Thumbnail (IFD1)<span click.trigger="toggleSegment('thumbnail')">Show all</span></h3>
			<table></table>
		</div>
-->
		<segment-box options.bind="options" output.bind="output" type="thumbnail"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="ifd0" title="Image"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="exif"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="gps"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="interop"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="iptc"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="xmp"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="icc"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="jfif"></segment-box>

		<div id="marker-notes" class.bind="options.makerNote ? '' : 'disabled'">
			<h3>Maker Note</h3>
			<pre>${makerNote | binary}</pre>
		</div>

		<div id="user-comment" class.bind="options.userComment ? '' : 'disabled'">
			<h3>User Comment</h3>
			<pre>${userComment | binary}</pre>
		</div>

		<div id="output" class="wrap">
			<h3>Raw output</h3>
			<pre>${output | json}</pre>
		</div>

	</div>


	<h2>Examples</h2>
	<p>You can find more examples <a href="./examples/">here</a> in the <a href="https://github.com/MikeKovarik/exifr">GitHub repo</a>.</p>
	<p>They come in all forms, shapes and sizes. There are some that are:</p>
	<li><a href="./examples/benchmark.html">Isomorphic (works the same in Node and browser)</a></li>
	<li>specific to <a href="./examples/thumbnail.js">Node's file system API</a> and other are tailored to <a href="./examples/thumbnail.html">browser</a></li>
	<li>various input formats like <a href="./examples/benchmark.html">Blob, ArrayBuffer, raw &lt;img&gt; tags</a>, <a href="./exampleS/base64.mjs">Base64 string</a>, etc...</a></li>
	<li><a href="./examples/node.js">CommonJS</a> or <a href="./examples/esm.mjs">ES Modules</a></li>
	<li><a href="./examples/worker.html">Web worker example</a></li>
	<li><a href="./examples/tiff.mjs">Extract the full exif</a> or <a href="./examples/xmp.js">just the one little thing you need</a></li>
	<li><a href="./examples/benchmark.html">Tryna-be-scientific benchmark</a></li>

	<h2>License</h2>
	<p>MIT, Mike Kovařík</p>

	<!--
	<script async defer src="https://buttons.github.io/buttons.js"></script>
	-->
	<script src="./node_modules/aurelia-script/dist/aurelia.umd.js"></script>
	<script type="module" src="./demo.js"></script>

</body>
</html>