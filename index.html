<!DOCTYPE html>
<html>
<head>
	<!-- Google Analytics -->
	<script async src="//www.googletagmanager.com/gtag/js?id=UA-34562823-2"></script>
	<script>
		window.dataLayer = window.dataLayer || []
		function gtag(){dataLayer.push(arguments)}
		gtag('js', new Date())
		gtag('config', 'UA-34562823-2')
	</script>
	<!-- App -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1"/>
	<title>Exifr</title>
	<link rel="stylesheet" type="text/css" href="./homepage/app.css">
</head>
<body>

	<header>
		<h1>Exifr</h1>
		<div class="description">
			<p>The fastest and most versatile JavaScript EXIF reading library.</p>
			<p>Check out the <a href="https://github.com/MikeKovarik/exifr">GitHub repo</a> for docs and more information.</p>
		</div>
		<div class="badges">
			<a href="https://travis-ci.org/MikeKovarik/exifr"><img src="https://travis-ci.org/MikeKovarik/exifr.svg?branch=master"></a>
			<a href="https://coveralls.io/github/MikeKovarik/exifr"><img src="https://coveralls.io/repos/github/MikeKovarik/exifr/badge.svg"></a>
			<!--
			<a class="github-button" href="https://github.com/sponsors/MikeKovarik" data-icon="octicon-heart" data-size="large" aria-label="Sponsor @MikeKovarik on GitHub">Sponsor</a>
			-->
			<a class="github-button" href="https://github.com/MikeKovarik/exifr/issues" data-icon="octicon-issue-opened" data-size="large" aria-label="Issue MikeKovarik/exifr on GitHub">Issue</a>
			<a class="github-button" href="https://github.com/MikeKovarik/exifr" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star MikeKovarik/exifr on GitHub">Star</a>
			<a class="github-button" href="https://github.com/MikeKovarik/exifr/fork" data-icon="octicon-repo-forked" data-size="large" aria-label="Fork MikeKovarik/exifr on GitHub">Fork</a>
		</div>
	</header>


	<div id="grid" class="nowrap ${rawFullscreen ? 'raw-fullscreen' : ''}">

		<h2 id="input-head">Input</h2>

		<h2 id="output-head">
			Output
			<span class="${color}">${status}</span>
		</h2>

		<div id="input">

			<h3>File</h3>
			<div id="dropzone">
				<input id="picker" type="file" multiple change.trigger="onPick($event)">
				<img if.bind="imageUrl && browserCompatibleFile" src.bind="imageUrl">
				<div if.bind="browserCompatibleFile">
					Click to pick
					<br>or<br>
					drop your file here
				</div>
				<div if.bind="!browserCompatibleFile">
					WARNING
					<br>
					Browsers cannot display
					<br>
					tif and heic images
				</div>
				<div if.bind="imageUrl" class="close" click.trigger="clear()">X</div if.bind="imageUrl">
			</div>

			<p>Or try some of these demo files:</p>
			<li repeat.for="file of demoFiles">
				<a href="#" click.trigger="loadPhoto(file.name)">
					${file.text}
				</a>
			</li>

			<h3>Options</h3>
			<form id="options">
				<div>{</div>
				<div muted>&nbsp;&nbsp;// APP segments</div>
				<div>&nbsp;&nbsp;tiff:      <input type="checkbox" checked.bind="options.tiff" change.trigger="updateOptions('tiff')">,</div>
				<div muted>&nbsp;&nbsp;&nbsp;&nbsp;// TIFF blocks</div>
				<!-- TODO: disable or uncheck all of these blocks on unselecting tiff -->
				<div>&nbsp;&nbsp;&nbsp;&nbsp;ifd0:      <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.ifd0" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;&nbsp;&nbsp;exif:      <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.exif" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;&nbsp;&nbsp;gps:       <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.gps" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;&nbsp;&nbsp;interop:   <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.interop" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;&nbsp;&nbsp;thumbnail: <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.thumbnail" change.trigger="updateOptions()">,</div>
				<div muted>&nbsp;&nbsp;&nbsp;&nbsp;// other data</div>
				<div>&nbsp;&nbsp;&nbsp;&nbsp;makerNote:   <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.makerNote" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;&nbsp;&nbsp;userComment: <input type="checkbox" disabled.bind="!options.tiff" checked.bind="options.userComment" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;xmp:       <input type="checkbox" checked.bind="options.xmp" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;icc:       <input type="checkbox" checked.bind="options.icc" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;iptc:      <input type="checkbox" checked.bind="options.iptc" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;jfif:      <input type="checkbox" checked.bind="options.jfif" change.trigger="updateOptions()">,</div>
				<div muted>&nbsp;&nbsp;// output style</div>
				<div title="combine all segments and blocks into single output object">&nbsp;&nbsp;mergeOutput: <input type="checkbox" checked.bind="options.mergeOutput" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;sanitize:        <input type="checkbox" checked.bind="options.sanitize" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;reviveValues:    <input type="checkbox" checked.bind="options.reviveValues" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;translateKeys:   <input type="checkbox" checked.bind="options.translateKeys" change.trigger="updateOptions()">,</div>
				<div>&nbsp;&nbsp;translateValues: <input type="checkbox" checked.bind="options.translateValues" change.trigger="updateOptions()">,</div>
				<!--
				<div muted>&nbsp;&nbsp;// skip or only pick tags</div>
				<div>&nbsp;&nbsp;pick: [<input type="text" name="pick">],</div>
				<div>&nbsp;&nbsp;skip: [<input type="text" name="skip">],</div>
				-->
				<div>}</div>
			</form>

		</div>

		<div id="thumb">
			<h3>Embedded thumbnail</h3>
			<img if.bind="thumbUrl" src.bind="thumbUrl">
			<p if.bind="thumbUrl === undefined">
				Doesn't contain thumbnail
			</p>
		</div>
<!--
		<div id="app1-thumb" class.bind="options.thumb ? '' : 'disabled'">
			<h3>Thumbnail (IFD1)<span click.trigger="toggleSegment('thumbnail')">Show all</span></h3>
			<table></table>
		</div>
-->
		<segment-box options.bind="options" output.bind="output" type="thumbnail"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="ifd0" title="Image"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="exif"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="gps"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="interop"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="iptc"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="xmp"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="icc"></segment-box>
		<segment-box options.bind="options" output.bind="output" type="jfif"></segment-box>

		<div id="marker-notes" class.bind="options.makerNote ? '' : 'disabled'">
			<h3>Maker Note</h3>
			<pre>${makerNote | binary}</pre>
		</div>

		<div id="user-comment" class.bind="options.userComment ? '' : 'disabled'">
			<h3>User Comment</h3>
			<pre>${userComment | binary}</pre>
		</div>

		<div id="raw" class="wrap">
			<h3>
				Raw output
				<span click.trigger="rawFullscreen = !rawFullscreen">Toggle fullscreen</span>
			</h3>
			<pre>${rawOutput | json}</pre>
		</div>

	</div>


	<h2>Examples</h2>
	<p>You can find more examples <a href="./examples/">here</a> in the <a href="https://github.com/MikeKovarik/exifr">GitHub repo</a>.</p>
	<p>They come in all forms, shapes and sizes. There are some that are:</p>
	<li><a href="./examples/benchmark.html">Isomorphic (works the same in Node and browser)</a></li>
	<li>specific to <a href="./examples/thumbnail.js">Node's file system API</a> and other are tailored to <a href="./examples/thumbnail.html">browser</a></li>
	<li>various input formats like <a href="./examples/benchmark.html">Blob, ArrayBuffer, raw &lt;img&gt; tags</a>, <a href="./exampleS/base64.mjs">Base64 string</a>, etc...</a></li>
	<li><a href="./examples/node.js">CommonJS</a> or <a href="./examples/esm.mjs">ES Modules</a></li>
	<li><a href="./examples/worker.html">Web worker example</a></li>
	<li><a href="./examples/tiff.mjs">Extract the full exif</a> or <a href="./examples/xmp.js">just the one little thing you need</a></li>
	<li><a href="./examples/benchmark.html">Tryna-be-scientific benchmark</a></li>

	<h2>License</h2>
	<p>MIT, Mike Kovařík</p>

	<!--
	<script async defer src="https://buttons.github.io/buttons.js"></script>
	-->
	<script src="./node_modules/aurelia-script/dist/aurelia.umd.js"></script>
	<script type="module" src="./homepage/app.js"></script>

</body>
</html>